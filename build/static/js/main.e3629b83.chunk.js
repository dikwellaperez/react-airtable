(this["webpackJsonpreact-airtable"]=this["webpackJsonpreact-airtable"]||[]).push([[0],{41:function(e,t,c){},44:function(e,t,c){},46:function(e,t,c){"use strict";c.r(t);var n=c(3),r=c(1),a=c.n(r),i=c(19),s=c.n(i),o=c(12),d=c(11),j=(c(41),c(6));var b=function(){var e=Object(d.c)((function(e){return e.items}));return Object(n.jsxs)("div",{className:"home page",children:[Object(n.jsx)("h1",{children:"Home Page"}),Object(n.jsx)("div",{className:"content",children:Object(n.jsxs)("table",{children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{children:"ID"}),Object(n.jsx)("th",{children:"Admin ID"}),Object(n.jsx)("th",{children:"Complete"})]})}),Object(n.jsx)("tbody",{children:e.map((function(e,t){return Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:Object(n.jsx)(o.b,{to:"/".concat(e.id),children:e.id})}),Object(n.jsx)("td",{children:Object(n.jsx)(o.b,{to:"/".concat(e.id,"/").concat(e.adminId),children:e.adminId})}),Object(n.jsx)("td",{children:e.complete?"Yes":"No"})]},t)}))})]})})]})},u=c(22);var l=function(){var e=Object(j.f)().id,t=Object(d.c)((function(e){return e.items})),c=Object(r.useState)(!1),a=Object(u.a)(c,2),i=a[0],s=a[1];return Object(r.useEffect)((function(){var c=t.findIndex((function(t){return t.id===e}));c>0&&s(t[c].complete)}),[t]),Object(n.jsx)("div",{className:"view page",children:Object(n.jsx)("div",{className:"content",children:Object(n.jsx)("h1",{children:i?"YES":"NO"})})})},O=c(30),h=c.n(O),f="LOAD_ITEMS",p="RENDER_ITEMS",m="UPDATE_RENDER_ITEM_START",x="UPDATE_RENDER_ITEM_SUCCESS";function v(e){return{type:m,record:e}}var I=function(){var e=Object(j.f)().id,t=Object(d.c)((function(e){return e.items})),c=Object(d.b)(),a=t.findIndex((function(t){return t.id===e})),i=Object(r.useState)(!1),s=Object(u.a)(i,2),o=s[0],b=s[1];return Object(r.useEffect)((function(){var n=t.findIndex((function(t){return t.id===e}));if(n>0){b(t[n].complete);var r=Object.assign({},t[n]);r&&!o&&(r.complete=!o,c(v(r)))}}),[t]),Object(n.jsx)("div",{className:"admin page",children:Object(n.jsxs)("div",{className:"content",children:[Object(n.jsx)(h.a,{onChange:function(){var e=Object.assign({},t[a]);e.complete=!o,c(v(e))},checked:o,checkedIcon:!1,uncheckedIcon:!1,onColor:"#30ba9f",offColor:"#a8b8ba"}),Object(n.jsx)("h1",{children:o?"YES":"NO"})]})})};c(44);var g=function(){return Object(n.jsxs)(j.c,{children:[Object(n.jsx)(j.a,{exact:!0,path:"/",component:b}),Object(n.jsx)(j.a,{exact:!0,path:"/:id",component:l}),Object(n.jsx)(j.a,{exact:!0,path:"/:id/:adminId",component:I})]})},E=c(14),C=c(31),N=c(18),S={items:[]};var y=c(15),D=c.n(y),T=c(13),w="app3JojvtMHDtiJ4g",k="Codes",_="key9Iig4errffnrw2",A=D.a.mark(J),R=D.a.mark(F),M=D.a.mark(B),P=function(e){return fetch("https://api.airtable.com/v0/".concat(w,"/").concat(k,"/").concat(e.recordId),{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(_)},body:JSON.stringify({fields:{Complete:e.complete}})})};function J(){var e,t,c;return D.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e="https://api.airtable.com/v0/".concat(w,"/").concat(k,"?api_key=").concat(_),n.next=3,Object(T.b)(fetch,e);case 3:return t=n.sent,n.next=6,t.json();case 6:return c=n.sent,n.next=9,Object(T.c)({type:p,items:c.records});case 9:case"end":return n.stop()}}),A)}function F(e){var t,c;return D.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(T.b)(P,e.record);case 2:return t=n.sent,n.next=5,t.json();case 5:return c=n.sent,n.next=8,Object(T.c)({type:x,record:c});case 8:case"end":return n.stop()}}),R)}function B(){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(T.a)([Object(T.d)(f,J),Object(T.d)(m,F)]);case 2:case"end":return e.stop()}}),M)}var H=Object(C.a)(),L=Object(E.d)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:return Object(N.a)(Object(N.a)({},e),{},{items:t.items.map((function(e){return{recordId:e.id,id:e.fields.ID,adminId:e.fields["Admin ID"],complete:e.fields.Complete}}))});case x:var c=e.items.slice(),n=c.findIndex((function(e){return e.recordId===t.record.id}));return c[n].complete=t.record.fields.Complete,Object(N.a)(Object(N.a)({},e),{},{items:c});default:return e}}),Object(E.a)(H));H.run(B),L.dispatch({type:f});var U=L,Y=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,47)).then((function(t){var c=t.getCLS,n=t.getFID,r=t.getFCP,a=t.getLCP,i=t.getTTFB;c(e),n(e),r(e),a(e),i(e)}))};s.a.render(Object(n.jsx)(d.a,{store:U,children:Object(n.jsx)(o.a,{children:Object(n.jsx)(a.a.StrictMode,{children:Object(n.jsx)(g,{})})})}),document.getElementById("root")),Y()}},[[46,1,2]]]);
//# sourceMappingURL=main.e3629b83.chunk.js.map