(this["webpackJsonpreact-airtable"]=this["webpackJsonpreact-airtable"]||[]).push([[0],{41:function(e,t,n){},44:function(e,t,n){},46:function(e,t,n){"use strict";n.r(t);var c=n(5),r=n(1),a=n.n(r),i=n(19),o=n.n(i),s=n(16),d=n(13),u=(n(41),n(6));var j=function(){return Object(c.jsx)("div",{className:"home page",children:"\xa0"})},b=n(22);var f=function(){var e=Object(u.f)().id,t=Object(d.c)((function(e){return e.items})),n=Object(r.useState)(!1),a=Object(b.a)(n,2),i=a[0],o=a[1];return Object(r.useEffect)((function(){var n=t.findIndex((function(t){return t.id===e}));n>0&&o(t[n].complete)}),[t]),Object(c.jsx)("div",{className:"view page",children:Object(c.jsx)("div",{className:"content",children:Object(c.jsx)("h1",{children:i?"YES":"NO"})})})},p=n(30),O=n.n(p),l="LOAD_ITEMS",h="RENDER_ITEMS",m="UPDATE_RENDER_ITEM_START",v="UPDATE_RENDER_ITEM_SUCCESS";function x(e){return{type:m,record:e}}var I=function(){var e=Object(u.f)().id,t=Object(d.c)((function(e){return e.items})),n=Object(d.b)(),a=t.findIndex((function(t){return t.id===e})),i=Object(r.useState)(!1),o=Object(b.a)(i,2),s=o[0],j=o[1];return Object(r.useEffect)((function(){var c=t.findIndex((function(t){return t.id===e}));if(c>0){j(t[c].complete);var r=Object.assign({},t[c]);r&&!s&&(r.complete=!s,n(x(r)))}}),[t]),Object(c.jsx)("div",{className:"admin page",children:Object(c.jsxs)("div",{className:"content",children:[Object(c.jsx)(O.a,{onChange:function(){var e=Object.assign({},t[a]);e.complete=!s,n(x(e))},checked:s,checkedIcon:!1,uncheckedIcon:!1,onColor:"#30ba9f",offColor:"#a8b8ba"}),Object(c.jsx)("h1",{children:s?"YES":"NO"})]})})};n(44);var E=function(){return Object(c.jsxs)(u.c,{children:[Object(c.jsx)(u.a,{exact:!0,path:"/",component:j}),Object(c.jsx)(u.a,{exact:!0,path:"/:id",component:f}),Object(c.jsx)(u.a,{exact:!0,path:"/:id/:adminId",component:I})]})},g=n(12),C=n(31),S=n(18),T={items:[]};var w=n(14),y=n.n(w),N=n(11),k="app3JojvtMHDtiJ4g",D="Codes",_="key9Iig4errffnrw2",A=y.a.mark(P),R=y.a.mark(F),M=y.a.mark(B),J=function(e){return fetch("https://api.airtable.com/v0/".concat(k,"/").concat(D,"/").concat(e.recordId),{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(_)},body:JSON.stringify({fields:{Complete:e.complete}})})};function P(){var e,t,n;return y.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return e="https://api.airtable.com/v0/".concat(k,"/").concat(D,"?api_key=").concat(_),c.next=3,Object(N.b)(fetch,e);case 3:return t=c.sent,c.next=6,t.json();case 6:return n=c.sent,c.next=9,Object(N.c)({type:h,items:n.records});case 9:case"end":return c.stop()}}),A)}function F(e){var t,n;return y.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,Object(N.b)(J,e.record);case 2:return t=c.sent,c.next=5,t.json();case 5:return n=c.sent,c.next=8,Object(N.c)({type:v,record:n});case 8:case"end":return c.stop()}}),R)}function B(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(N.a)([Object(N.d)(l,P),Object(N.d)(m,F)]);case 2:case"end":return e.stop()}}),M)}var L=Object(C.a)(),U=Object(g.d)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return Object(S.a)(Object(S.a)({},e),{},{items:t.items.map((function(e){return{recordId:e.id,id:e.fields.ID,adminId:e.fields["Admin ID"],complete:e.fields.Complete}}))});case v:var n=e.items.slice(),c=n.findIndex((function(e){return e.recordId===t.record.id}));return n[c].complete=t.record.fields.Complete,Object(S.a)(Object(S.a)({},e),{},{items:n});default:return e}}),Object(g.a)(L));L.run(B),U.dispatch({type:l});var H=U,Y=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,47)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),c(e),r(e),a(e),i(e)}))};o.a.render(Object(c.jsx)(d.a,{store:H,children:Object(c.jsx)(s.a,{children:Object(c.jsx)(a.a.StrictMode,{children:Object(c.jsx)(E,{})})})}),document.getElementById("root")),Y()}},[[46,1,2]]]);
//# sourceMappingURL=main.e8759708.chunk.js.map